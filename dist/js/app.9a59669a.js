(function(t){function e(e){for(var i,s,r=e[0],c=e[1],l=e[2],d=0,f=[];d<r.length;d++)s=r[d],o[s]&&f.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={1:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/Vue-Player/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([14,0]),n()})({"+tYi":function(t,e,n){"use strict";var i=n("XT3j"),o=n.n(i);o.a},14:function(t,e,n){t.exports=n("zUnb")},"1owY":function(t,e,n){},"2j/m":function(t,e,n){},"3Bsx":function(t,e,n){},"7EbL":function(t,e,n){},"8dia":function(t,e,n){},"9YZp":function(t,e,n){"use strict";var i=n("kyTQ"),o=n.n(i);o.a},BCHL:function(t,e,n){"use strict";var i=n("3Bsx"),o=n.n(i);o.a},Cz3G:function(t,e,n){},DOtz:function(t,e,n){"use strict";var i=n("z353"),o=n.n(i);o.a},DYbe:function(t,e,n){},GZxz:function(t,e,n){"use strict";var i=n("Cz3G"),o=n.n(i);o.a},Jzyz:function(t,e,n){},KlGh:function(t,e,n){"use strict";var i=n("xeC8"),o=n.n(i);o.a},MBzV:function(t,e,n){"use strict";var i=n("DYbe"),o=n.n(i);o.a},OsKJ:function(t,e,n){"use strict";var i=n("8dia"),o=n.n(i);o.a},XT3j:function(t,e,n){},ZCWV:function(t,e,n){"use strict";var i=n("7EbL"),o=n.n(i);o.a},fEeZ:function(t,e,n){"use strict";var i=n("jkFV"),o=n.n(i);o.a},jkFV:function(t,e,n){},kyTQ:function(t,e,n){},oEyq:function(t,e,n){"use strict";var i=n("2j/m"),o=n.n(i);o.a},"qs+q":function(t,e,n){},s8ne:function(t,e,n){"use strict";var i=n("qs+q"),o=n.n(i);o.a},x5Pn:function(t,e,n){"use strict";var i=n("1owY"),o=n.n(i);o.a},xeC8:function(t,e,n){},z353:function(t,e,n){},"zG9+":function(t,e,n){"use strict";var i=n("Jzyz"),o=n.n(i);o.a},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("Kw5r"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,{theme:"dark"}),attrs:{id:"app"}},[n("Layout",[n("template",{slot:"header"},[n("Header")],1),n("router-view"),n("template",{slot:"footer"},[n("Footer")],1)],2)],1)},a=[],s=n("mrSG"),r=n("YKMj"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,t.mods)})},l=[],u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="header",e}var n;return s["d"](e,t),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),e=s["c"]([r["a"]],e),e}(r["c"]),d=u,f=d,p=(n("oEyq"),n("KHd+")),h=Object(p["a"])(f,c,l,!1,null,"89377922",null),y=h.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,t.mods)})},m=[],v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="footer",e}var n;return s["d"](e,t),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),e=s["c"]([r["a"]],e),e}(r["c"]),g=v,k=g,_=(n("x5Pn"),Object(p["a"])(k,b,m,!1,null,"c998c5c6",null)),M=_.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,t.mods)},[n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"track-info"))},[null!=t.currentTrack?[t._v("\n      .:: "+t._s(t._f("duration")(t.currentTrack.duration,"s","MM:SS"))+" ::\n      - "+t._s(t.currentTrack.name)+" ::\n      "+t._s(t.currentTrack.type)+" ::\n      "+t._s(t.currentTrack.sampleRate)+" kHz, "+t._s(t.currentTrack.bitrate)+" kbps, "+t._s(t._f("fileSize")(t.currentTrack.size))+"\n      ::.\n    ")]:t._e()],2),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"display"))},[t._v("\n    "+t._s(t._f("duration")(t.state.currentSecond,"s","MM:SS"))+"\n    "),null!=t.analyser?n("Visualiser",{attrs:{analyser:t.analyser,width:200,height:30,displayBins:64}}):t._e()],1),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"progress"))},[n("Progress",{attrs:{cacheProgress:t.cacheProgress,playProgress:t.playProgress},on:{changed:t.seekPercent}})],1),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"controls"))},[n("Button",{attrs:{icon:t.isPlaying?"pause":"play_arrow",mods:{hover:"size",state:t.currentTrack?"default":"non-active"}},on:{click:t.togglePlay}}),n("Button",{attrs:{icon:"stop",mods:{hover:"size"}},on:{click:t.stop}}),n("Button",{attrs:{icon:"skip_previous",mods:{hover:"size"}},on:{click:t.prev}}),n("Button",{attrs:{icon:"skip_next",mods:{hover:"size"}},on:{click:t.next}}),n("Button",{attrs:{icon:"shuffle",mods:{hover:"size",state:t.state.isShuffle?"active":"non-active"}},on:{click:t.toggleShuffleMode}}),n("Button",{attrs:{icon:t.state.isRepeat>1?"repeat_one":"repeat",mods:{hover:"size",state:t.state.isRepeat>0?"active":"non-active"}},on:{click:t.nextRepeatMode}}),n("Volume",{attrs:{value:t.state.volume},on:{changed:t.updateVolume}})],1)])},O=[],P=n("S7WH"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,t.mods)},[n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"header"),t.headerMods)},[t._t("header")],2),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"body"),t.bodyMods)},[t._t("default")],2),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"footer"),t.footerMods)},[t._t("footer")],2)])},x=[],S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="layout",e}var n,i,o,a;return s["d"](e,t),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(i="undefined"!==typeof Hash&&Hash)&&i||Object)],e.prototype,"headerMods",void 0),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(o="undefined"!==typeof Hash&&Hash)&&o||Object)],e.prototype,"bodyMods",void 0),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(a="undefined"!==typeof Hash&&Hash)&&a||Object)],e.prototype,"footerMods",void 0),e=s["c"]([r["a"]],e),e}(r["c"]),N=S,E=N,w=(n("fEeZ"),Object(p["a"])(E,T,x,!1,null,"6d3c4253",null)),C=w.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i",{class:t._f("bemMods")(t.blockName,{library:t.library,size:t.size})},[t._v(t._s(t.name))])},z=[],H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="icon",e}var n;return s["d"](e,t),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),s["c"]([Object(r["b"])({default:function(){return"mdi"}}),s["f"]("design:type",String)],e.prototype,"library",void 0),s["c"]([Object(r["b"])({default:function(){return null}}),s["f"]("design:type",String)],e.prototype,"name",void 0),s["c"]([Object(r["b"])({default:function(){return 24}}),s["f"]("design:type",Number)],e.prototype,"size",void 0),e=s["c"]([r["a"]],e),e}(r["c"]),L=H,A=L,D=(n("+tYi"),Object(p["a"])(A,B,z,!1,null,"0c3f04d3",null)),R=D.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,t.mods),on:{click:function(e){t.$emit("click",e)}}},[t.icon?n("Icon",{attrs:{library:t.iconNS,name:t.icon}}):t._e(),t.label?n("span",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"label"))},[t._v(t._s(t.label))]):t._e()],1)},$=[],I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="button",e}var n;return s["d"](e,t),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),s["c"]([Object(r["b"])({default:function(){return"mdi"}}),s["f"]("design:type",String)],e.prototype,"iconNS",void 0),s["c"]([Object(r["b"])({default:function(){return null}}),s["f"]("design:type",String)],e.prototype,"icon",void 0),s["c"]([Object(r["b"])({default:function(){return null}}),s["f"]("design:type",String)],e.prototype,"label",void 0),e=s["c"]([Object(r["a"])({components:{Icon:R}})],e),e}(r["c"]),F=I,q=F,W=(n("OsKJ"),Object(p["a"])(q,V,$,!1,null,"323690a0",null)),G=W.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,t.mods),on:{click:t.click,"&mousedown":function(e){return t.startChanges(e)}}},[n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"back"))}),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"cache")),style:{width:t.cacheProgress*t.width+"px"}}),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"front")),style:{width:t.playProgress*t.width+"px"}}),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"track")),style:{left:t.playProgress*t.width+"px"}})])},U=[],Z=n("LvDl"),K=function(t){return void 0===t&&(t=500),function(e,n,i){return s["a"]({},i,{value:Object(Z["throttle"])(i.value,t)})}},J=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="progress",e.width=0,e.allowChangesOnMouseMove=!1,e}var n;return s["d"](e,t),e.prototype.mounted=function(){this.width=this.$el.offsetWidth,this.mouseMove=this.mouseMove.bind(this),this.stopChanges=this.stopChanges.bind(this)},e.prototype.click=function(t){this.updateValue(t.offsetX/this.width)},e.prototype.startChanges=function(t){window.addEventListener("mousemove",this.mouseMove,{passive:!0}),window.addEventListener("mouseup",this.stopChanges,{passive:!0})},e.prototype.mouseMove=function(t){this.updateValue((t.x-this.$el.getBoundingClientRect().left)/this.width)},e.prototype.stopChanges=function(){window.removeEventListener("mousemove",this.mouseMove)},e.prototype.updateValue=function(t){t<0&&(t=0),this.$emit("changed",t)},s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),s["c"]([Object(r["b"])({default:function(){return 0}}),s["f"]("design:type",Number)],e.prototype,"cacheProgress",void 0),s["c"]([Object(r["b"])({default:function(){return 0}}),s["f"]("design:type",Number)],e.prototype,"playProgress",void 0),s["c"]([K(32),s["f"]("design:type",Function),s["f"]("design:paramtypes",[Number]),s["f"]("design:returntype",void 0)],e.prototype,"updateValue",null),e=s["c"]([r["a"]],e),e}(r["c"]),X=J,Q=X,tt=(n("KlGh"),Object(p["a"])(Q,Y,U,!1,null,"37e77d86",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{class:t._f("bemMods")(t.blockName,t.mods),attrs:{width:t.width,height:t.height},on:{click:t.changeType}})},it=[],ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="visualiser",e.ctx=null,e.drawCurved=!1,e.drawFilled=!1,e.binWidth=0,e.logLookupTable=null,e.logBinLengths=null,e.finalBins=null,e}var n,i;return s["d"](e,t),e.prototype.mounted=function(){this.init()},e.prototype.init=function(){this.ctx=this.$el.getContext("2d"),this.ctx.strokeStyle="#EC1A55",this.finalBins=new Array(this.displayBins),this.binWidth=Math.ceil(this.width/(this.displayBins-1)),this.analyser.fftSize=2*this.displayBins,this.logLookupTable=[],this.logBinLengths=[];for(var t=0;t<this.displayBins;t++)this.logLookupTable.push(t);requestAnimationFrame(this.paint.bind(this))},e.prototype.paint=function(){requestAnimationFrame(this.paint.bind(this)),this.ctx.fillStyle="hsla(0, 0%, 0%, 1)",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle="hsla(0, 0%, 0%, 1)",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="source-over";var t=this.analyser.frequencyBinCount,e=new Uint8Array(t);if(this.analyser.getByteFrequencyData(e),this.ctx.fillStyle="#EC1A55",this.updateBins(t,this.logBinLengths,e),this.drawCurved){this.ctx.fillStyle="#EC1A55",this.ctx.beginPath(),this.ctx.moveTo(0,this.height-this.getBinHeight(0));c=void 0;for(c=0;c<this.displayBins-2;){var n=c*this.binWidth,i=(c+this.logBinLengths[c])*this.binWidth,o=(n+i)/2,a=this.height-this.getBinHeight(c),s=this.height-this.getBinHeight(c+this.logBinLengths[c]),r=(a+s)/2;this.ctx.quadraticCurveTo(n,a,o,r),c+=this.logBinLengths[c]}this.ctx.quadraticCurveTo(c*this.binWidth,this.height-this.getBinHeight(c),(c+1)*this.binWidth,this.height-this.getBinHeight(c+1)),this.drawFilled?(this.ctx.lineTo(this.width,this.height),this.ctx.lineTo(0,this.height),this.ctx.fill()):this.ctx.stroke()}else for(var c=0;c<this.displayBins;c++)this.paintSingleBin(c)},e.prototype.averageRegion=function(t,e,n){if(n<=e)return t[e];for(var i=0,o=e;o<n;o++)i+=t[o];return i/(n-e)},e.prototype.updateBins=function(t,e,n){for(var i=t/this.displayBins,o=0;o<this.displayBins;o++){var a=this.averageRegion(n,o*i,(o+1)*i-1);e.push(1),this.finalBins[o]=a}},e.prototype.getBinHeight=function(t){var e=this.finalBins[t];return null==e||0===e?1:e/255*this.height*.9},e.prototype.paintSingleBin=function(t){var e=this.getBinHeight(t);this.ctx.fillRect(t*this.binWidth+1,this.height-e,this.binWidth-1,e)},e.prototype.changeType=function(){this.drawCurved=!this.drawCurved},s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),s["c"]([Object(r["b"])({default:function(){return null},required:!0}),s["f"]("design:type","function"===typeof(i="undefined"!==typeof AnalyserNode&&AnalyserNode)&&i||Object)],e.prototype,"analyser",void 0),s["c"]([Object(r["b"])({default:function(){return 100}}),s["f"]("design:type",Number)],e.prototype,"width",void 0),s["c"]([Object(r["b"])({default:function(){return 50}}),s["f"]("design:type",Number)],e.prototype,"height",void 0),s["c"]([Object(r["b"])({default:function(){return 32}}),s["f"]("design:type",Number)],e.prototype,"displayBins",void 0),e=s["c"]([r["a"]],e),e}(r["c"]),at=ot,st=at,rt=(n("s8ne"),Object(p["a"])(st,nt,it,!1,null,"294654a2",null)),ct=rt.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,t.mods)},[n("Button",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"icon")),attrs:{icon:t.icon,mods:{hover:"size"}},on:{click:t.toggleMute}}),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"front")),on:{mousemove:t.change,mouseout:t.stopChanges}},[n("Button",{attrs:{icon:t.icon},on:{click:t.toggleMute}}),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"range")),on:{click:t.click,mousedown:t.startChanges,mouseup:t.stopChanges}},[n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"track")),style:{top:t.value*t.height+"px"}})])],1)],1)},ut=[],dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="volume",e.height=100,e.changeVolumeDynamicly=!1,e.mute=0,e.icon="volume_up",e}var n;return s["d"](e,t),e.prototype.onValueChanged=function(t,e){this.icon=0===t?"volume_off":t<=.3?"volume_mute":.3<t&&t<=.6?"volume_down":"volume_up"},e.prototype.click=function(t){this.$emit("changed",Number((t.offsetY/this.height).toFixed(2)))},e.prototype.change=function(t){this.changeVolumeDynamicly&&this.$emit("changed",Number((t.offsetY/this.height).toFixed(2)))},e.prototype.startChanges=function(t){this.changeVolumeDynamicly=!0},e.prototype.stopChanges=function(t){this.changeVolumeDynamicly=!1},e.prototype.toggleMute=function(t){0===this.mute?(this.mute=this.value,this.$emit("changed",0)):(this.$emit("changed",this.mute),this.mute=0)},s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),s["c"]([Object(r["b"])({default:function(){return 1}}),s["f"]("design:type",Number)],e.prototype,"value",void 0),s["c"]([Object(r["d"])("value"),s["f"]("design:type",Function),s["f"]("design:paramtypes",[Number,Number]),s["f"]("design:returntype",void 0)],e.prototype,"onValueChanged",null),e=s["c"]([Object(r["a"])({components:{Button:G}})],e),e}(r["c"]),ft=dt,pt=ft,ht=(n("zG9+"),Object(p["a"])(pt,lt,ut,!1,null,"b2a513ce",null)),yt=ht.exports,bt=function(){for(var t="",e=0;e<32;++e){8!==e&&12!==e&&16!==e&&20!==e||(t+="-");var n=16*Math.random()|0;t+=(12===e?4:16===e?3&n|8:n).toString(16)}return t},mt=function(t,e){return void 0===e&&(e={}),new Promise(function(n,i){t(s["a"]({},e,{defer:{resolve:n,reject:i}}))})},vt=function(t,e,n){for(var i=t,o=0,a=e.split(".");o<a.length;o++){var s=a[o];if(null==i[s])return n;i=i[s]}return i},gt=function(t,e){return Math.floor(Math.random()*(e-t))+t},kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="player",e.cacheProgress=0,e.isPlaying=!1,e.audio=null,e.ctx=null,e.analyser=null,e.scriptProcessor=null,e.gainNode=null,e.source=null,e}var n,i,o,a,c,l,u,d,f,p,h,y,b,m,v,g,k;return s["d"](e,t),Object.defineProperty(e.prototype,"playProgress",{get:function(){if(null==this.currentTrack)return 0;try{var t=this.state.currentSecond/this.currentTrack.duration;return isNaN(t)?0:t}catch(t){return 0}},enumerable:!0,configurable:!0}),e.prototype.onVolumeChange=function(t){this.audio.volume=t},e.prototype.onStatusChange=function(t){this.isPlaying="isPlaying"===t},e.prototype.onTrackChange=function(){this.audio.src=this.currentTrack.source,this.play()},e.prototype.created=function(){this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onAudioEnd=this.onAudioEnd.bind(this)},e.prototype.mounted=function(){return s["b"](this,void 0,void 0,function(){var t,e;return s["e"](this,function(n){switch(n.label){case 0:return this.initAudio(),e=Object.values(this.playlists).pop(),e?[3,2]:[4,mt(this.createPlaylist,{title:"default"})];case 1:e=n.sent(),n.label=2;case 2:return t=e,null==this.state.activePlaylist&&this.updateActivePlaylist(t),[2]}})})},e.prototype.initAudio=function(){this.audio=document.createElement("audio"),this.audio.preload="metadata",this.ctx=new AudioContext,this.source=this.ctx.createMediaElementSource(this.audio),this.scriptProcessor=this.ctx.createScriptProcessor(16384,1,1),this.gainNode=this.ctx.createGain(),this.analyser=this.ctx.createAnalyser(),this.source.connect(this.analyser),this.analyser.connect(this.scriptProcessor),this.scriptProcessor.connect(this.ctx.destination),this.source.connect(this.ctx.destination),this.audio.addEventListener("timeupdate",this.onTimeUpdate),this.audio.addEventListener("ended",this.onAudioEnd),null!=this.currentTrack&&(this.audio.src=this.currentTrack.source,this.audio.currentTime=this.state.currentSecond)},e.prototype.onTimeUpdate=function(t){var e=Math.round(this.audio.currentTime);this.state.currentSecond!==e&&this.playingTick(e)},e.prototype.onAudioEnd=function(t){return s["b"](this,void 0,void 0,function(){return s["e"](this,function(t){return 2===this.state.isRepeat?(this.audio.currentTime=0,this.play()):this.next(),[2]})})},e.prototype.play=function(){return s["b"](this,void 0,void 0,function(){return s["e"](this,function(t){return null!=this.audio.src&&(this.audio.play(),"isPlaying"!==this.state.status&&this.updateState("isPlaying")),[2]})})},e.prototype.togglePlay=function(){return s["b"](this,void 0,void 0,function(){return s["e"](this,function(t){return null!=this.audio.src&&(this.isPlaying?(this.audio.pause(),this.updateState("isPaused")):this.play()),[2]})})},e.prototype.stop=function(){this.audio.pause(),this.updateState("isStopped"),this.audio.currentTime=0},e.prototype.seekPercent=function(t){this.audio.currentTime=t*this.currentTrack.duration},e.prototype.next=function(){return s["b"](this,void 0,void 0,function(){var t;return s["e"](this,function(e){switch(e.label){case 0:return[4,mt(this.getNextTrack,{id:this.state.activePlaylist.id,isRepeatList:1===this.state.isRepeat,isRandom:this.state.isShuffle})];case 1:return t=e.sent(),null==t?this.stop():"isPlaying"===this.state.status&&(this.audio.src=t.source,this.audio.play()),[2]}})})},e.prototype.prev=function(){return s["b"](this,void 0,void 0,function(){var t;return s["e"](this,function(e){switch(e.label){case 0:return[4,mt(this.getPrevTrack,{id:this.state.activePlaylist.id,isRepeatList:1===this.state.isRepeat,isRandom:this.state.isShuffle})];case 1:return t=e.sent(),"isPlaying"===this.state.status&&(this.audio.src=t.source,this.audio.play()),[2]}})})},s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),s["c"]([Object(P["d"])("player"),s["f"]("design:type","function"===typeof(i="undefined"!==typeof IPlayerData&&IPlayerData)&&i||Object)],e.prototype,"state",void 0),s["c"]([Object(P["d"])("playlists"),s["f"]("design:type","function"===typeof(o="undefined"!==typeof IPlaylistCollection&&IPlaylistCollection)&&o||Object)],e.prototype,"playlists",void 0),s["c"]([Object(P["b"])("Player::currentTrack"),s["f"]("design:type","function"===typeof(a="undefined"!==typeof ITrackData&&ITrackData)&&a||Object)],e.prototype,"currentTrack",void 0),s["c"]([Object(P["c"])("updateActivePlaylist"),s["f"]("design:type","function"===typeof(c="undefined"!==typeof MutationMethod&&MutationMethod)&&c||Object)],e.prototype,"updateActivePlaylist",void 0),s["c"]([Object(P["c"])("updateState"),s["f"]("design:type","function"===typeof(l="undefined"!==typeof MutationMethod&&MutationMethod)&&l||Object)],e.prototype,"updateState",void 0),s["c"]([Object(P["c"])("playingTick"),s["f"]("design:type","function"===typeof(u="undefined"!==typeof MutationMethod&&MutationMethod)&&u||Object)],e.prototype,"playingTick",void 0),s["c"]([Object(P["c"])("updateVolume"),s["f"]("design:type","function"===typeof(d="undefined"!==typeof MutationMethod&&MutationMethod)&&d||Object)],e.prototype,"updateVolume",void 0),s["c"]([Object(P["c"])("nextRepeatMode"),s["f"]("design:type","function"===typeof(f="undefined"!==typeof MutationMethod&&MutationMethod)&&f||Object)],e.prototype,"nextRepeatMode",void 0),s["c"]([Object(P["c"])("toggleShuffleMode"),s["f"]("design:type","function"===typeof(p="undefined"!==typeof MutationMethod&&MutationMethod)&&p||Object)],e.prototype,"toggleShuffleMode",void 0),s["c"]([Object(P["c"])("patchTrack"),s["f"]("design:type","function"===typeof(h="undefined"!==typeof MutationMethod&&MutationMethod)&&h||Object)],e.prototype,"patchTrack",void 0),s["c"]([Object(P["c"])("createPlaylist"),s["f"]("design:type","function"===typeof(y="undefined"!==typeof MutationMethod&&MutationMethod)&&y||Object)],e.prototype,"createPlaylist",void 0),s["c"]([Object(P["c"])("addTracksToPlaylist"),s["f"]("design:type","function"===typeof(b="undefined"!==typeof MutationMethod&&MutationMethod)&&b||Object)],e.prototype,"addTracksToPlaylist",void 0),s["c"]([Object(P["c"])("getNextTrack"),s["f"]("design:type","function"===typeof(m="undefined"!==typeof MutationMethod&&MutationMethod)&&m||Object)],e.prototype,"getNextTrack",void 0),s["c"]([Object(P["c"])("getPrevTrack"),s["f"]("design:type","function"===typeof(v="undefined"!==typeof MutationMethod&&MutationMethod)&&v||Object)],e.prototype,"getPrevTrack",void 0),s["c"]([Object(P["c"])("recalcSizeAndDuration"),s["f"]("design:type","function"===typeof(g="undefined"!==typeof MutationMethod&&MutationMethod)&&g||Object)],e.prototype,"recalcSizeAndDuration",void 0),s["c"]([Object(r["d"])("state.volume"),s["f"]("design:type",Function),s["f"]("design:paramtypes",[Number]),s["f"]("design:returntype",void 0)],e.prototype,"onVolumeChange",null),s["c"]([Object(r["d"])("state.status"),s["f"]("design:type",Function),s["f"]("design:paramtypes",["function"===typeof(k="undefined"!==typeof PlayerStatus&&PlayerStatus)&&k||Object]),s["f"]("design:returntype",void 0)],e.prototype,"onStatusChange",null),s["c"]([Object(r["d"])("currentTrack"),s["f"]("design:type",Function),s["f"]("design:paramtypes",[]),s["f"]("design:returntype",void 0)],e.prototype,"onTrackChange",null),e=s["c"]([Object(r["a"])({components:{Button:G,Progress:et,Visualiser:ct,Volume:yt}})],e),e}(r["c"]),_t=kt,Mt=_t,jt=(n("GZxz"),Object(p["a"])(Mt,j,O,!1,null,"642d9312",null)),Ot=jt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,t.mods)},[n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"header"))},[n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"total-count"))},[t._v(t._s(t.count))]),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"total-duration"))},[t._v(t._s(t._f("duration")(t.duration,"s","DD:HH:MM:SS")))]),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"total-size"))},[t._v(t._s(t._f("fileSize")(t.size)))])]),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"track-list"))},[null!=t.model?t._l(t.tracks,function(e,i){return n("Track",{key:e.data.id,class:t._f("bemMods")(t._f("bemElement")(t.blockName,"track-item")),attrs:{index:i+1,model:e.data,mods:{state:null!=t.currentTrack&&t.currentTrack.id===e.data.id?"active":"default"}},on:{click:function(n){t.selectTrack(e)}}})}):t._e()],2),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"footer"))},[n("Button",{attrs:{icon:"add",mods:{hover:"size"}},on:{click:t.load}})],1)])},Tt=[],xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!=t.model?n("div",{class:t._f("bemMods")(t.blockName,t.mods),on:{click:t.onClick}},["active"===t.mods.state?n("span",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"background"))}):t._e(),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"index"))},[t._v(t._s(t.index)+".")]),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"title"))},[null!=t.model.author?[t._v("\n      "+t._s(t.model.author)+" - \n    ")]:t._e(),t._v("\n    "+t._s(t.model.name)+"\n  ")],2),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"duration"))},[t._v(t._s(t._f("duration")(t.model.duration,"s","MM:SS")))]),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"info"))},[t._v("\n    "+t._s(t.model.type)+" :: "+t._s(t.model.sampleRate)+" kHz, "+t._s(t.model.bitrate)+" kbps, "+t._s(t._f("fileSize")(t.model.size))+"\n  ")])]):t._e()},St=[],Nt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="track",e}var n,i;return s["d"](e,t),e.prototype.onClick=function(){this.$emit("click")},s["c"]([Object(r["b"])({default:-1}),s["f"]("design:type",Number)],e.prototype,"index",void 0),s["c"]([Object(r["b"])({default:null}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof ITrackData&&ITrackData)&&n||Object)],e.prototype,"model",void 0),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(i="undefined"!==typeof Hash&&Hash)&&i||Object)],e.prototype,"mods",void 0),e=s["c"]([r["a"]],e),e}(r["c"]),Et=Nt,wt=Et,Ct=(n("MBzV"),Object(p["a"])(wt,xt,St,!1,null,"f7f19bac",null)),Bt=Ct.exports,zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="playlist",e}var n,i,o,a,c,l,u,d;return s["d"](e,t),Object.defineProperty(e.prototype,"tracks",{get:function(){if(null==this.model.trackList.first)return[];var t=this.model.trackList.first,e=[t];while(null!=t.next)e.push(t.next),t=t.next;return e},enumerable:!0,configurable:!0}),e.prototype.load=function(){return s["b"](this,void 0,void 0,function(){var t,e=this;return s["e"](this,function(n){return t=document.createElement("input"),t.type="file",t.multiple=!0,t.accept="audio/*",t.onchange=function(t){return s["b"](e,void 0,void 0,function(){var e,n,i,o,a,r;return s["e"](this,function(s){switch(s.label){case 0:e=[],n=0,i=t.target.files,s.label=1;case 1:return n<i.length?(o=i[n],r=(a=e).push,[4,mt(this.createTrack,{file:o})]):[3,4];case 2:r.apply(a,[s.sent()]),s.label=3;case 3:return n++,[3,1];case 4:return this.addTracksToPlaylist({id:this.model.id,tracks:e}),[2]}})})},t.click(),[2]})})},e.prototype.selectTrack=function(t){null!=this.player.activePlaylist&&this.player.activePlaylist.id!==this.model.id&&this.updateActivePlaylist(this.model),this.updateCursor({id:this.model.id,node:t})},Object.defineProperty(e.prototype,"count",{get:function(){return null==this.model?0:this.model.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return null==this.model?0:this.model.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return null==this.model?0:this.model.size},enumerable:!0,configurable:!0}),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof IPlaylistData&&IPlaylistData)&&n||Object)],e.prototype,"model",void 0),s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(i="undefined"!==typeof Hash&&Hash)&&i||Object)],e.prototype,"mods",void 0),s["c"]([Object(P["d"])("player"),s["f"]("design:type","function"===typeof(o="undefined"!==typeof IPlayerData&&IPlayerData)&&o||Object)],e.prototype,"player",void 0),s["c"]([Object(P["b"])("Player::currentTrack"),s["f"]("design:type","function"===typeof(a="undefined"!==typeof ITrackData&&ITrackData)&&a||Object)],e.prototype,"currentTrack",void 0),s["c"]([Object(P["a"])("createTrack"),s["f"]("design:type","function"===typeof(c="undefined"!==typeof MutationMethod&&MutationMethod)&&c||Object)],e.prototype,"createTrack",void 0),s["c"]([Object(P["c"])("addTracksToPlaylist"),s["f"]("design:type","function"===typeof(l="undefined"!==typeof MutationMethod&&MutationMethod)&&l||Object)],e.prototype,"addTracksToPlaylist",void 0),s["c"]([Object(P["c"])("updateCursor"),s["f"]("design:type","function"===typeof(u="undefined"!==typeof MutationMethod&&MutationMethod)&&u||Object)],e.prototype,"updateCursor",void 0),s["c"]([Object(P["c"])("updateActivePlaylist"),s["f"]("design:type","function"===typeof(d="undefined"!==typeof MutationMethod&&MutationMethod)&&d||Object)],e.prototype,"updateActivePlaylist",void 0),e=s["c"]([Object(r["a"])({components:{Button:G,Track:Bt}})],e),e}(r["c"]),Ht=zt,Lt=Ht,At=(n("DOtz"),Object(p["a"])(Lt,Pt,Tt,!1,null,"4a625196",null)),Dt=At.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t._f("bemMods")(t.blockName,t.mods)},[n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"header"))},[t._l(t.playlists,function(e,i,o){return n("div",{key:i,class:t._f("bemMods")(t._f("bemElement")(t.blockName,"playlist-title"),{state:t.activePlaylistId===i?"active":"default"}),on:{click:function(n){t.setActivePlaylist(e)}}},[t.activePlaylistId===i?[t._v("\n        "+t._s(o)+".\n        "),n("span",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"playlist-title-input")),attrs:{contenteditable:"true"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.stopPropagation(),e.preventDefault(),e.target.blur()},blur:t.updateTitle}},[t._v(t._s(e.name))])]:[t._v("\n        "+t._s(o)+".\n        "),n("span",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"playlist-title-input")),attrs:{contenteditable:"false"}},[t._v(t._s(e.name))])]],2)}),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"playlist-title"),{type:"create"}),on:{click:t.focusSpan}},[n("Icon",{attrs:{name:"add",size:20}}),n("span",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"playlist-title-input")),attrs:{contenteditable:"true"},on:{focus:t.clearAddButtonText,blur:t.createNewPlaylist,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.stopPropagation(),e.preventDefault(),e.target.blur()}}},[t._v("Add")])],1)],2),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"body"))},[n("Playlist",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"playlist")),attrs:{model:t.openedPlaylist}})],1),n("div",{class:t._f("bemMods")(t._f("bemElement")(t.blockName,"footer"))})])},Vt=[],$t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="playlists",e.openedPlaylist=null,e}var n,i,o,a,c,l;return s["d"](e,t),Object.defineProperty(e.prototype,"activePlaylistId",{get:function(){return null!=this.openedPlaylist?this.openedPlaylist.id:null==this.player.activePlaylist?null:(this.openedPlaylist=this.player.activePlaylist,this.openedPlaylist.id)},enumerable:!0,configurable:!0}),e.prototype.setActivePlaylist=function(t){this.activePlaylistId!==t.id&&(this.openedPlaylist=t)},e.prototype.updateTitle=function(t){var e=t.target.textContent;this.player.activePlaylist.name!==e&&this.setTitleToPlaylist({id:this.activePlaylistId,title:e})},e.prototype.createNewPlaylist=function(t){return s["b"](this,void 0,void 0,function(){var e,n;return s["e"](this,function(i){switch(i.label){case 0:return e=t.target.textContent,t.target.textContent="Add",0===e.trim().length?[2]:[4,mt(this.createPlaylist,{title:e})];case 1:return n=i.sent(),this.setActivePlaylist(n),[2]}})})},e.prototype.clearAddButtonText=function(t){requestAnimationFrame(function(){t.target.textContent=""})},e.prototype.focusSpan=function(t){t.currentTarget.lastElementChild.focus()},s["c"]([Object(r["b"])({default:function(){return{}}}),s["f"]("design:type","function"===typeof(n="undefined"!==typeof Hash&&Hash)&&n||Object)],e.prototype,"mods",void 0),s["c"]([Object(P["d"])("player"),s["f"]("design:type","function"===typeof(i="undefined"!==typeof IPlayerData&&IPlayerData)&&i||Object)],e.prototype,"player",void 0),s["c"]([Object(P["d"])("playlists"),s["f"]("design:type","function"===typeof(o="undefined"!==typeof ITrackCollection&&ITrackCollection)&&o||Object)],e.prototype,"playlists",void 0),s["c"]([Object(P["c"])("setTitleToPlaylist"),s["f"]("design:type","function"===typeof(a="undefined"!==typeof MutationMethod&&MutationMethod)&&a||Object)],e.prototype,"setTitleToPlaylist",void 0),s["c"]([Object(P["c"])("createPlaylist"),s["f"]("design:type","function"===typeof(c="undefined"!==typeof MutationMethod&&MutationMethod)&&c||Object)],e.prototype,"createPlaylist",void 0),s["c"]([Object(P["c"])("updateActivePlaylist"),s["f"]("design:type","function"===typeof(l="undefined"!==typeof MutationMethod&&MutationMethod)&&l||Object)],e.prototype,"updateActivePlaylist",void 0),e=s["c"]([Object(r["a"])({components:{Button:G,Icon:R,Playlist:Dt}})],e),e}(r["c"]),It=$t,Ft=It,qt=(n("9YZp"),Object(p["a"])(Ft,Rt,Vt,!1,null,"dfca1cd4",null)),Wt=qt.exports,Gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="app",e}return s["d"](e,t),e=s["c"]([Object(r["a"])({components:{Layout:C,Header:y,Footer:M}})],e),e}(r["c"]),Yt=Gt,Ut=Yt,Zt=(n("ZCWV"),Object(p["a"])(Ut,o,a,!1,null,null,null)),Kt=Zt.exports,Jt=n("jE9Z"),Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.blockName},[n("Player"),n("Playlists")],1)},Qt=[],te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockName="home-page",e}return s["d"](e,t),e=s["c"]([Object(r["a"])({components:{Player:Ot,Playlists:Wt}})],e),e}(r["c"]),ee=te,ne=ee,ie=(n("BCHL"),Object(p["a"])(ne,Xt,Qt,!1,null,"31088a47",null)),oe=ie.exports,ae=function(t,e){return void 0===e&&(e="home"),{path:t,name:e,component:oe}},se=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},re=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")])])}],ce={},le=Object(p["a"])(ce,se,re,!1,null,null,null),ue=le.exports,de=function(t,e){return void 0===e&&(e="about"),{path:t,name:e,component:ue}};i["default"].use(Jt["a"]);var fe,pe=new Jt["a"]({base:"/Vue-Player/",mode:"history",routes:[ae("/","home"),de("/about","about")]}),he=n("L2JU"),ye={createTrack:function(t,e){t.state;var n=t.commit,i=(t.dispatch,e.file),o=e.defer,a=void 0===o?{}:o;return s["b"](this,void 0,void 0,function(){var t,e,o;return s["e"](this,function(s){switch(s.label){case 0:return t={id:bt(),name:i.name.replace(/\..*$/,""),type:i.type.replace(/^.*\//,""),size:i.size,source:URL.createObjectURL(i),duration:0,sampleRate:44.1,bitrate:0,originFile:i,relatedPlaylists:[]},e=document.createElement("audio"),e.preload="metadata",o=t,[4,new Promise(function(n){e.addEventListener("durationchange",function(){n(Math.round(e.duration))}),e.src=t.source})];case 1:return o.duration=s.sent(),t.bitrate=Math.round(t.size/1024*8/t.duration),n("setTrack",{track:t}),null!=a.resolve&&a.resolve(t),[2]}})})}},be=s["a"]({},ye),me=(fe={},fe["Player::currentTrack"]=function(t){return vt(t,"player.activePlaylist.cursor.data",null)},fe),ve=s["a"]({},me),ge={updateActivePlaylist:function(t,e){t.player.activePlaylist=e},playingTick:function(t,e){t.player.currentSecond=Math.round(e)},updateCacheProgress:function(t,e){t.player.cachedSeconds=e},updateVolume:function(t,e){t.player.volume=e},toggleShuffleMode:function(t){t.player.isShuffle=!t.player.isShuffle},nextRepeatMode:function(t){++t.player.isRepeat,t.player.isRepeat>=3&&(t.player.isRepeat=0)},updateState:function(t,e){t.player.status=e}},ke=function(t,e){var n={first:null,last:null},o=0,a=0,s=t.reduce(function(t,n,s){n.relatedPlaylists.push(e);var r={prev:null,next:null,data:n};return o+=n.size,a+=n.duration,null===t.first?(i["default"].set(t,"last",r),i["default"].set(t,"first",r)):(i["default"].set(r,"prev",t.last),i["default"].set(t.last,"next",r),i["default"].set(t,"last",r)),t},n);return e.size=o,e.duration=a,s},_e={createPlaylist:function(t,e){var n=e.title,o=e.tracks,a=void 0===o?[]:o,s=e.defer,r=void 0===s?{}:s,c={trackList:{first:null,last:null},id:bt(),name:n,size:0,count:a.length,duration:0,cursor:null};i["default"].set(c,"trackList",ke(a,c)),i["default"].set(t.playlists,c.id,c),null!=r.resolve&&r.resolve(c)},setTitleToPlaylist:function(t,e){var n=e.id,o=e.title,a=e.defer,s=void 0===a?{}:a,r=t.playlists[n];i["default"].set(r,"name",o),null!=s.resolve&&s.resolve(r)},addTracksToPlaylist:function(t,e){for(var n=e.id,o=e.tracks,a=void 0===o?[]:o,s=e.defer,r=void 0===s?{}:s,c=t.playlists[n],l=0,u=a;l<u.length;l++){var d=u[l];d.relatedPlaylists.push(c);var f={prev:null,next:null,data:d};c.size+=d.size,c.duration+=d.duration,null==c.trackList.first?(i["default"].set(c.trackList,"last",f),i["default"].set(c.trackList,"first",f)):(i["default"].set(f,"prev",c.trackList.last),i["default"].set(c.trackList.last,"next",f),i["default"].set(c.trackList,"last",f))}i["default"].set(c,"count",c.count+a.length),null!=r.resolve&&r.resolve(c)},getNextTrack:function(t,e){var n=e.id,i=e.isRepeatList,o=void 0!==i&&i,a=e.isRandom,s=void 0!==a&&a,r=e.defer,c=void 0===r?{}:r,l=t.playlists[n];if(null==l.cursor)l.cursor=l.trackList.first;else if(s){for(var u=l.cursor,d=gt(1,l.count);d>0;--d)u=u.next,null==u&&(u=l.trackList.first);l.cursor=u}else l.cursor=l.cursor.next;if(null==l.cursor){if(!o)return l.cursor=l.trackList.last,void(null!=c.resolve&&c.resolve(null));l.cursor=l.trackList.first}null!=c.resolve&&c.resolve(l.cursor&&l.cursor.data)},getPrevTrack:function(t,e){var n=e.id,i=e.isRepeatList,o=void 0!==i&&i,a=e.isRandom,s=void 0!==a&&a,r=e.defer,c=void 0===r?{}:r,l=t.playlists[n];if(null==l.cursor)l.cursor=l.trackList.last;else if(s){for(var u=l.cursor,d=gt(1,l.count);d>0;--d)u=u.prev,null==u&&(u=l.trackList.last);l.cursor=u}else l.cursor=l.cursor.prev;null==l.cursor&&(l.cursor=o?l.trackList.last:l.trackList.first),null!=c.resolve&&c.resolve(l.cursor&&l.cursor.data)},updateCursor:function(t,e){var n=e.id,i=e.node,o=e.defer,a=void 0===o?{}:o,s=t.playlists[n];s.cursor=i,null!=a.resolve&&a.resolve(s.cursor&&s.cursor.data)}},Me={setTrack:function(t,e){var n=e.track,o=e.defer,a=void 0===o?{}:o;i["default"].set(t.tracks,n.id,n),null!=a.resolve&&a.resolve(n)},patchTrack:function(t,e){for(var n=e.id,i=e.data,o=e.defer,a=void 0===o?{}:o,s=t.tracks[n],r=0,c=Object.entries(i);r<c.length;r++){var l=c[r],u=l[0],d=l[1];s[u]=d}null!=a.resolve&&a.resolve(s)}},je=s["a"]({},ge,Me,_e),Oe={track:null,activePlaylist:null,currentSecond:0,cachedSeconds:0,volume:1,isShuffle:!1,isRepeat:0,status:"isDataWaiting"},Pe={},Te={},xe={player:Oe,tracks:Te,playlists:Pe};i["default"].use(he["a"]);var Se=new he["a"].Store({state:xe,getters:ve,mutations:je,actions:be}),Ne=function(t,e,n){var i=""+t+(e&&"__"+e||"");return null==n?i:Object.entries(n).reduce(function(t){var e=t[0],n=t[1];return"@"===n?i+"--"+e:i+"--"+e+"-"+n},[i]).join(" ")},Ee=function(t,e){return null==e?t:t+"__"+e},we=function(t,e){return null==e?t:Object.entries(e).reduce(function(e,n){var i=n[0],o=n[1];return"@"===o?t+"--"+i:(e.push(t+"--"+i+"-"+o),e)},[t]).join(" ")},Ce=function(t,e,n){var i={h:0,m:0,s:0,ms:0};switch(e){case"h":i.d=Math.trunc(t/24),i.h=t-24*i.d;break;case"m":i.d=Math.trunc(t/60/24),i.h=Math.trunc(t/60-24*i.d),i.m=t-24*i.d*60-60*i.h;break;case"s":i.d=Math.trunc(t/60/60/24),i.h=Math.trunc(t/60/60-24*i.d),i.m=Math.trunc(t/60-24*i.d*60-60*i.h),i.s=t-24*i.d*60*60-60*i.h*60-60*i.m;break;default:i.d=Math.trunc(t/1e3/60/60/24),i.h=Math.trunc(t/1e3/60/60-24*i.d),i.m=Math.trunc(t/1e3/60-24*i.d*60-60*i.h),i.s=Math.trunc(t/1e3-24*i.d*60*60-60*i.h*60-60*i.m),i.ms=t%1e3}switch(n){case"DD:HH:MM:SS":return(i.d>0?i.d.toString().padStart(2,"0"):"00")+":"+(i.h>0?i.h.toString().padStart(2,"0"):"00")+":"+(i.m>0?i.m.toString().padStart(2,"0"):"00")+":"+(i.s>0?i.s.toString().padStart(2,"0"):"00");case"HH:MM:SS":return(i.h>0?i.h.toString().padStart(2,"0"):"00")+":"+(i.m>0?i.m.toString().padStart(2,"0"):"00")+":"+(i.s>0?i.s.toString().padStart(2,"0"):"00");case"MM:SS":return(i.m>0?i.m.toString().padStart(2,"0"):"00")+":"+(i.s>0?i.s.toString().padStart(2,"0"):"00");case"SS":return""+(i.s>0?i.s.toString().padStart(2,"0"):"00")}},Be=["b","Kb","Mb","Gb","Tb","Pb"],ze=function(t,e,n){void 0===e&&(e="b"),void 0===n&&(n="auto");var i=t,o=Be.indexOf(e);if("auto"===n)while(i>1023)++o,i/=1024;else{var a=Be.indexOf(e);while(o<a)++o,i/=1024}return i.toFixed(2)+" "+Be[o]};i["default"].filter("bem",Ne),i["default"].filter("bemElement",Ee),i["default"].filter("bemMods",we),i["default"].filter("duration",Ce),i["default"].filter("fileSize",ze),i["default"].config.productionTip=!1,new i["default"]({router:pe,store:Se,render:function(t){return t(Kt)}}).$mount("#app")}});
//# sourceMappingURL=app.9a59669a.js.map